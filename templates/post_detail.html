{% extends 'base.html' %}
{% set t = translations[lang] %}

{% block title %}
    {% if lang == 'fa' %}{{ post.title_fa }}{% elif lang == 'en' %}{{ post.title_en }}{% elif lang == 'ar' %}{{ post.title_ar }}{% else %}{{ post.title_de }}{% endif %} | Mi Design
{% endblock %}

{% block content %}
<section class="post-detail-container">

    <header class="post-detail-header" style="background-image: url('{{ url_for('static', filename='images/blog/' + post.image_file) if post.image_file else '' }}');">
        <div class="post-header-overlay">
            <div class="container">
                <span class="post-category-detail reveal-on-scroll">{% if lang == 'fa' %}{{ post.category_fa }}{% elif lang == 'en' %}{{ post.category_en }}{% elif lang == 'ar' %}{{ post.category_ar }}{% else %}{{ post.category_de }}{% endif %}</span>
                <h1 class="reveal-on-scroll" style="transition-delay: 0.2s;">{% if lang == 'fa' %}{{ post.title_fa }}{% elif lang == 'en' %}{{ post.title_en }}{% elif lang == 'ar' %}{{ post.title_ar }}{% else %}{{ post.title_de }}{% endif %}</h1>
                <div class="post-meta-detail reveal-on-scroll" style="transition-delay: 0.4s;">
                    <span>
                        <i class="fa-solid fa-user"></i> 
                        {{ t.post_written_by }}
                    </span>
                    <span>
                        <i class="fa-solid fa-calendar-days"></i> 
                        {{ post.pub_date.strftime('%Y/%m/%d') }}
                    </span>
                </div>
            </div>
        </div>
    </header>

    <div class="post-main-content-wrapper">
        <div class="container">
            <article class="post-body">
                {% set content = post.content_fa if lang == 'fa' else post.content_en if lang == 'en' else post.content_ar if lang == 'ar' else post.content_de %}
                {{ (content or '') | markdown | safe }}
            </article>
        </div>
    </div>

    <section class="back-link-section">
        <div class="container">
            <a href="{{ url_for('blog', lang=lang) }}" class="btn btn-secondary">
                <i class="fa-solid fa-arrow-right"></i> 
                {{ t.post_back_to_articles }}
            </a>
        </div>
    </section>

</section>
{% endblock %}